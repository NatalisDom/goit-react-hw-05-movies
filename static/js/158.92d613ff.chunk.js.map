{"version":3,"file":"static/js/158.92d613ff.chunk.js","mappings":"+SAEMA,EAAU,mCAGT,SAAeC,IAAtB,4CAAO,OAAP,oBAAO,6GAEiBC,EAAAA,EAAAA,IAAA,sCAAyCF,IAF1D,cAEGG,EAFH,yBAIIA,EAAMC,MAJV,gCAMHC,QAAQC,IAAR,MANG,gFAUA,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAA8BC,GAA9B,gGAEiBN,EAAAA,EAAAA,IAAA,iBACRM,EADQ,oBACMR,EADN,oBAFjB,cAEGG,EAFH,yBAKIA,EAAMC,MALV,gCAOHC,QAAQC,IAAR,MAPG,gFAWA,SAAeG,EAAtB,+CAAO,OAAP,oBAAO,WAA6BD,GAA7B,gGAEiBN,EAAAA,EAAAA,IAAA,iBAAoBM,EAApB,4BAA0CR,IAF3D,cAEGG,EAFH,yBAGIA,EAAMC,MAHV,gCAKHC,QAAQC,IAAR,MALG,gFASA,SAAeI,EAAtB,+CAAO,OAAP,oBAAO,WAA0BF,GAA1B,gGAEoBN,EAAAA,EAAAA,IAAA,iBACXM,EADW,4BACWR,EADX,2BAFpB,cAEGW,EAFH,yBAKIA,EAASP,MALb,gCAOHC,QAAQC,IAAR,MAPG,gFAWA,SAAeM,EAAtB,+CAAO,OAAP,oBAAO,WAA4BC,GAA5B,gGAEoBX,EAAAA,EAAAA,IAAA,gCACIF,EADJ,kBACqBa,IAHzC,cAEGF,EAFH,yBAKIA,EAASP,MALb,gCAOHC,QAAQC,IAAR,MAPG,gFA3CPJ,EAAAA,EAAAA,SAAAA,QAAyB,8B,oKCCZY,GAAQC,EAAAA,EAAAA,IAAOC,EAAAA,GAAPD,CAAH,kEAILE,EAAOF,EAAAA,GAAAA,GAAH,yE,SCuDjB,EA1De,WACb,OAAwBG,EAAAA,EAAAA,UAAS,MAAjC,eAAOC,EAAP,KAAaC,EAAb,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAYF,EAAaG,IAAI,aACnC,GAA8BP,EAAAA,EAAAA,WAAS,kBAAMM,GAAa,EAAnB,IAAvC,eAAOE,EAAP,KAAgBC,EAAhB,MAEAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS,mCAAG,uGACUjB,EAAAA,EAAAA,IAAaY,GADvB,gBACRM,EADQ,EACRA,QACRV,EAAQU,GACRH,EAAW,IAHK,2CAAH,qDAKXH,GACFK,GAEH,GAAE,CAACL,IAEJ,IAAMO,GAAWC,EAAAA,EAAAA,MAOXC,EAAY,mCAAG,WAAMC,GAAN,iEACnBA,EAAEC,iBAEFZ,EAAgB,CAAEC,UAAWE,IAC7BC,EAAW,IAJQ,2CAAH,sDAOlB,OACE,6BACE,kBAAMS,SAAUH,EAAhB,WACE,kBAAOI,KAAK,OAAOC,MAAOZ,EAASa,SAdrB,SAAAL,GAClBP,EAAWO,EAAEM,OAAOF,MACrB,KAaK,mBAAQD,KAAK,SAAb,wBAEF,yBACGlB,IACEA,EAAKsB,OAAS,GACb,SAACxB,EAAD,UACGE,EAAKuB,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,MAAOnC,EAAS,EAATA,GAClB,OACE,yBACE,SAACM,EAAD,CAAO8B,MAAO,CAAEC,KAAMd,GAAYe,GAAE,kBAAatC,GAAjD,SACGmC,KAFInC,EAMZ,OAGH,uEAKX,C","sources":["components/api/api.jsx","pages/Movies.styled.js","pages/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '3e3ad9f3df7eb6b26866aac5eb47fa16';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport async function getTrending() {\n  try {\n    const reply = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n\n    return reply.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function fetchMovieData(id) {\n  try {\n    const reply = await axios.get(\n      `/movie/${id}?api_key=${API_KEY}&language=en-US`\n    );\n    return reply.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function fetchCastList(id) {\n  try {\n    const reply = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n    return reply.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function getReviews(id) {\n  try {\n    const response = await axios.get(\n      `/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nexport async function fetchByQuery(query) {\n  try {\n    const response = await axios.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n}\n\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\n\nexport const Films = styled(Link)`\n  text-decoration: none;\n  color: blue;\n`;\nexport const List = styled.ul`\n  list-style: none;\n  list-style-type: square;\n`;\n\n","import { fetchByQuery } from 'components/api/api';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams, useLocation } from 'react-router-dom';\nimport { List, Films } from './Movies.styled';\n\nconst Movies = () => {\n  const [info, setInfo] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const getSearch = searchParams.get('getSearch');\n  const [request, setRequest] = useState(() => getSearch || '');\n\n  useEffect(() => {\n    const fetchInfo = async () => {\n      const { results } = await fetchByQuery(getSearch);\n      setInfo(results);\n      setRequest('');\n    };\n    if (getSearch) {\n      fetchInfo();\n    }\n  }, [getSearch]);\n\n  const location = useLocation();\n  \n\n  const handleAlter = e => {\n    setRequest(e.target.value);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n   \n    setSearchParams({ getSearch: request });\n    setRequest('');\n  };\n\n  return (\n    <main>\n      <form onSubmit={handleSubmit}>\n        <input type=\"text\" value={request} onChange={handleAlter} />\n        <button type=\"submit\">Search</button>\n      </form>\n      <div>\n        {info &&\n          (info.length > 0 ? (\n            <List>\n              {info.map(({ title, id }) => {\n                return (\n                  <li key={id}>\n                    <Films state={{ from: location }} to={`/movies/${id}`}>\n                      {title}\n                    </Films>\n                  </li>\n                );\n              })}\n            </List>\n          ) : (\n            <p>No movies with this title ðŸ˜¢</p>\n          ))}\n      </div>\n    </main>\n  );\n};\nexport default Movies;\n"],"names":["API_KEY","getTrending","axios","reply","data","console","log","fetchMovieData","id","fetchCastList","getReviews","response","fetchByQuery","query","Films","styled","Link","List","useState","info","setInfo","useSearchParams","searchParams","setSearchParams","getSearch","get","request","setRequest","useEffect","fetchInfo","results","location","useLocation","handleSubmit","e","preventDefault","onSubmit","type","value","onChange","target","length","map","title","state","from","to"],"sourceRoot":""}